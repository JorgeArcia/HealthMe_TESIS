<div class="container mt-5 globalSize">
    <div class="row justify-content-center">
        <div class="col-md-8 col-sm-12">
            <h1>Appointment form</h1>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-8 col-sm-12">
            <form [formGroup]="form" (ngSubmit)="createAppointment()" *ngIf="isLoaded">
                <select class="form-select" (change)="onChangeTenant($event)" aria-label="Default select tenant">
                    <option selected>Select tenant</option>
                    <option *ngFor="let tnts of tenants" [value]="tnts.id">
                        {{tnts.detail}}
                    </option>
                </select>
                <select class="form-select" *ngIf="specialities.length" (change)="onChangeSpeciality($event)" aria-label="Default select specialities">
                    <option selected>Select speciality</option>
                    <option *ngFor="let spe of specialities" [value]="spe.id">
                        {{spe.detail}}
                    </option>
                </select>
                <select class="form-select" *ngIf="specialists.length" (change)="onChangeProfessional($event)" aria-label="Default select specialities">
                    <option selected>Select speciality</option>
                    <option *ngFor="let spe of specialists" [value]="spe.id">
                        {{spe.name}} {{spe.surname}}
                    </option>
                </select>
                <div class="form-group mb-3">
                    <label for="exampleInputDetail" class="form-label">Date</label>
                    <input type="datetime-local" formControlName="date" class="form-control" placeholder="Date">
                    <span class="text-danger" *ngIf="form?.get('date').status != 'VALID' && form.get('date').touched">El date es obligatorio.</span>
                </div>
                <div class="d-flex">
                    <div class="me-3">
                        <button type="submit" [disabled]="form.invalid" class="btn btn-primary btn-block">Create appointment</button>
                    </div>
                    <div>
                        <button type="button" class="btn btn-warning btn-block" routerLink="/patient/appointments">Quit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>